---
layout: post
title: 前端自动化工具GRUNT
---

{{ page.title }}
================

grunt需要配置的包含两个文件，项目配置文件 Gruntfile.js 和 包配置文件 package.json

包配置文件 package.json
----------------------------------

	{
	  "name": "project",
	  "version": "1.0.0",
	  "devDependencies": {
	    "grunt": "~0.4.1",
	    "grunt-contrib-compass": "~0.2.0",
	    "grunt-contrib-watch": "~0.4.3",
	    "grunt-contrib-jshint": "~0.6.4",
	    "grunt-contrib-requirejs": "~0.4.1"
	  }
	}

cd 进入项目目录
npm install 
会自动下载包配置文件中的包


项目配置文件 Gruntfile.js
--------------------------------------

	module.exports = function(grunt) {
	  grunt.initConfig({

	    jshint: {// js 语法检查
		
		files: ['../js/*.js'],
		options: {
		    curly: true, // 强制if for while等加上大括号
		    eqeqeq: true,// 强制使用 === 或 !==
		    newcap: true,// 强制构造函数名字首个字母大写
		    plusplus: true// 强制不使用 ++ --
		}
	    },

	    watch: {// sass 即时编译
		
		css: {
		  files: ['../sass/*.scss'],
		  tasks: ['compass']
		}
	    },

	    compass: {// sass编译
	  
	      compile: {
		  options: {
		      sassDir: '../sass',
		      cssDir: '../css',
	//              environment: 'production' // 加上会压缩代码
		  }
	      }
	      
	    },
	    
	    requirejs: { // js合并
		compile: {
		    options: {
			name: 'main',
			baseUrl: '../js/',
			findNestedDependencies: true,
			mainConfigFile: '../js/main.js',
	//                optimize: 'uglify2', 
	optimize: 'none',
			out: '../js/build.js'
		    }
		}
	    }

	  });
	  
	  grunt.loadNpmTasks('grunt-contrib-compass');
	  grunt.loadNpmTasks('grunt-contrib-watch');
	  grunt.loadNpmTasks('grunt-contrib-jshint');
	  grunt.loadNpmTasks('grunt-contrib-requirejs');

	 
	}
