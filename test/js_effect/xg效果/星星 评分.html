<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<style type="text/css">
.starWrapper{border:1px solid #FFCC00;padding:5px;width:120px;}
.starWrapper img{cursor:pointer;}
</style>
<script type="text/javascript">
function rate(obj,oEvent){
//==================
// 图片地址设置
//==================
var imgSrc = 'http://www.jb51.net/upload/20080508122008586.gif'; //没有填色的星星
var imgSrc_2 = 'http://www.jb51.net/upload/20080508122010810.gif'; //打分后有颜色的星星
//---------------------------------------------------------------------------
if(obj.rateFlag) return;
var e = oEvent || window.event;
var target = e.target || e.srcElement; 
var imgArray = obj.getElementsByTagName("img");
var scores=obj.getElementsByTagName("em")[0];
for(var i=0;i<imgArray.length;i++){
   imgArray[i]._num = i;
   //打分
   imgArray[i].onclick=function(){
    if(obj.rateFlag) return;
    obj.rateFlag=true;
   // alert(this._num+1);       //this._num+1这个数字写入到数据库中,作为评分的依据
   };
}
//滑过变样
if(target.tagName=="IMG"){
   for(var j=0;j<imgArray.length;j++){
    if(j<=target._num){
     imgArray[j].src=imgSrc_2;
	 scores.innerHTML=j+1+"分";
    } else {
     imgArray[j].src=imgSrc;
    }
   }
} else {
   for(var k=0;k<imgArray.length;k++){
    imgArray[k].src=imgSrc;
	scores.innerHTML="0分";
   }
}
}
</script>
<body>
<p class="starWrapper" onmouseover="rate(this,event)">
          <img src="http://www.jb51.net/upload/20080508122008586.gif" title="很烂" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="一般" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="还好" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="较好" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="很好" />
		  <em>0分</em>
 </p>
 <p class="starWrapper" onmouseover="rate(this,event)">
          <img src="http://www.jb51.net/upload/20080508122008586.gif" title="很烂" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="一般" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="还好" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="较好" /><img src="http://www.jb51.net/upload/20080508122008586.gif" title="很好" />
<em>0分</em>
 </p>
</body>
</html> 