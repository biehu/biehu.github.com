<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<title>树</title>
<style>
body *{margin:0;padding:0}
ul{list-style:none}
#left_menu ul li ul{display:none;padding-left:10px}
#left_menu ul span{display:inline-block;height:20px;line-height:20px;padding-left:10px;color:#333;background:url(images/plus.png) no-repeat 0 50%;cursor:pointer}
#left_menu ul span.minus{background:url(images/minus.png) no-repeat 0 50%}
</style>
</head>
<body>
<ul id="left_menu">
	 <li><span>性质一</span>
		 <ul>
			<li><span>事件危机</span>
				  <ul>
					  <li><span>活跃危机</span>
						  <ul>
						  <li><a href="#">事件1</a></li>
						  <li><a href="#">事件2</a></li>
						  </ul>
					  </li>
					  <li><span>历史危机</span>
						  <ul>
							  <li><a href="#">事件1</a></li>
							  <li><a href="#">事件2</a></li>
						  </ul>
					  </li>
				  </ul>
			 </li>
			 <li><a href="#">普通危机</a></li>
		 </ul>
	 </li>
</ul>
<script type="text/javascript">
var menu=(function(){
//list左侧菜单 点击展开
function change(){
	this.className=this.className=="minus"?"":"minus";
	var oSecondDiv = this.parentNode.getElementsByTagName("ul")[0];
	if(getStyle(oSecondDiv,"display")=="none"){
		oSecondDiv.style.display="block";
	}else{
		oSecondDiv.style.display="none";
	}
}
//获得样式
function getStyle(elem,name) {
    if (elem.style[name])
        return elem.style[name];
    else if (elem.currentStyle)
        return elem.currentStyle[name];
    else if (window.getComputedStyle)
        return window.getComputedStyle(elem,null)[name];
    else
        return null;
}
return {
	init:function(menuId){
		if(!document.getElementById(menuId)) return;
		var items= document.getElementById(menuId).getElementsByTagName("li");
		var controlLink;
		for(var i=0;i<items.length;i++){
			if(items[i].getElementsByTagName("ul").length){
				controlLink= items[i].firstChild;
				if(controlLink.nodeType !="1") controlLink=controlLink.nextSibling;
				controlLink.onclick=change;
			}
		}
	}
}

})()

menu.init("left_menu");
</script>
</body>
</html>