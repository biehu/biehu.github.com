<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
*{margin:0;padding:0}
body{font-size:12px}
.content_tabs{width:421px;height:23px;background:url(images/tab.jpg) repeat-x left bottom}
.content_tab_items{float:left;overflow:hidden;width:348px}
.content_tab_items ul{width:5000px}
.content_tabs li{display:inline;float:left;margin-right:4px;background:url(images/tab_link_left.gif) no-repeat}
.content_tabs li a{float:left;overflow:hidden;height:22px;line-height:23px;margin-left:5px;padding:0 8px 0 3px;background:url(images/tab_link_right.gif) no-repeat right top;color:#507AC3}
.content_tabs li a:hover{text-decoration:none}
.content_tabs .content_tab_def{background:url(images/tab_hover_left.gif) no-repeat}
.content_tabs .content_tab_def a{height:23px;background:url(images/tab_hover_right.gif) no-repeat right top;color:#FF3C00}
.content_tabs_edit_trigger{display:inline;float:left;overflow:hidden;width:13px;height:14px;margin:4px 0 0 5px;text-indent:-9999px;background:url(images/tabs_edit_btn.gif) no-repeat}
.content_tab_scroll_left,.content_tab_scroll_right{float:left;width:22px;height:22px;cursor:pointer}
.content_tab_scroll_left{background:url(images/left_arrow.png) no-repeat center center}
.content_tab_scroll_right{background:url(images/right_arrow.png) no-repeat center center}
</style>
</head>
<body>
<div class="content_tabs clearfix">
	<p class="content_tab_scroll_left" onclick="tabScroll.scrollTabLeft()"></p>
	<div id="content_tab_items" class="content_tab_items">
		<ul id="content_tab_items_inner" class="clearfix">
		  <li><a href="javascript:;">五金</a></li>
		  <li><a  href="javascript:;">建材</a></li>
		  <li><a  href="javascript:;">洽谈会</a></li>
		  <li><a href="javascript:;">经商宝典</a></li>
		  <li><a  href="javascript:;">商人社区</a></li>
		  <li><a  href="javascript:;">会员服务</a></li>
		  <li><a  href="javascript:;">中央电视台</a></li>
		  <li><a  href="javascript:;">中央电视台中样的</a></li>
		  <li><a  href="javascript:;">建材中央电视台中样的</a></li>
		  <li><a  href="javascript:;">建材中央电视台中样的第三方说的</a></li>
		  <li><a  href="javascript:;">都是</a></li>
		  <li><a  href="javascript:;">地</a></li>
		</ul>
	</div>
	<p class="content_tab_scroll_right" onclick="tabScroll.scrollTabRight()"></p>
</div>
<script type="text/javascript">
//选项卡左右移动
var tabScroll=(function(){
	var itemsWrap=document.getElementById("content_tab_items_inner");
	var showAreaLen=document.getElementById("content_tab_items").offsetWidth;
	var items=document.getElementById("content_tab_items").getElementsByTagName("li");
	var arr=[];
	
	//获取元素相对于这个页面的左边距离。       
	function pageX(elem){   
		return elem.offsetParent?(elem.offsetLeft+pageX(elem.offsetParent)):elem.offsetLeft;   
	  
	}   
	//获得元素相对于父元素的左边距离
	function parentX(elem){   
		return elem.parentNode==elem.offsetParent?elem.offsetLeft:pageX(elem)-pageX(elem.parentNode);
	}
	//取得样式属性
	function getStyle(elem,name) {
		if (elem.style[name])
			return elem.style[name];
		else if (elem.currentStyle)
			return elem.currentStyle[name];
		else if (window.getComputedStyle)
			return window.getComputedStyle(elem,null)[name];
		else
			return null;
	}
	return{
		init:function(){
				for(var i=0,len=items.length;i<len;i++){
					arr.push(parentX(items[i]));
				}
				//最后一个特殊处理
				arr.push(parentX(items[items.length-1])+items[items.length-1].offsetWidth);
			},
		scrollTabLeft:function (){
				var scrollLeft=itemsWrap.style.marginLeft?parseInt(itemsWrap.style.marginLeft):"0";
				if(scrollLeft==0) return;
				for(var i=0;i<arr.length-1;i++){
					if((-scrollLeft)<=arr[i]){
						itemsWrap.style.marginLeft=-arr[i-1]+"px";
						break;
					}
				}
			
			},
		scrollTabRight:function(){
				var scrollLeft=itemsWrap.style.marginLeft?parseInt(itemsWrap.style.marginLeft):"0";
				for(var i=0;i<arr.length-1;i++){
					if((showAreaLen+(-scrollLeft))<=arr[i]){
						itemsWrap.style.marginLeft=-arr[i+1]+showAreaLen+"px";
						break;
					}
					//防止最后一个不完全不出现点击不滑动
					var scrollLeftVal=-arr[i]-items[i].offsetWidth+showAreaLen;
					if(i==arr.length-2 && scrollLeftVal<0){
						itemsWrap.style.marginLeft=-arr[i]-items[i].offsetWidth+showAreaLen+"px";
					}
				}
			}
	}
})()

tabScroll.init();
		
</script>
</body>
</html>
